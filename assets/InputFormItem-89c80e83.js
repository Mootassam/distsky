import{Z as De,$ as we,a0 as Pr,a1 as Me,a2 as ur,A as ar,G as Ye,f as d,a3 as Br,X as T,M as $r,k as J}from"./index-fd8689f6.js";const ot={generic(e){return De().label(e)},string(e,r){r=r||{};let t=we().transform((s,a)=>a===""?null:s).nullable(!0).trim().label(e);return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),r.matches&&(t=t.matches(r.matches)),t},boolean(e,r){return Pr().default(!1).label(e)},relationToOne(e,r){r=r||{};let t=De().nullable(!0).label(e).transform((s,a)=>a?a.id:null);return r.required&&(t=t.required()),t},stringArray(e,r){r=r||{};let t=Me().compact().ensure().of(we().transform((s,a)=>a===""?null:s).trim()).label(e);return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},relationToMany(e,r){r=r||{};let t=Me().nullable(!0).label(e).transform((s,a)=>!a||!a.length?[]:a.map(c=>c.id));return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},integer(e,r){r=r||{};let t=ur().transform((s,a)=>a===""?null:s).integer().nullable(!0).label(e);return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),t},images(e,r){r=r||{};let t=Me().nullable(!0).label(e);return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},files(e,r){r=r||{};let t=Me().compact().ensure().nullable(!0).label(e);return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},enumerator(e,r){r=r||{};let t=we().transform((s,a)=>a===""?null:s).label(e).nullable(!0).oneOf([null,...r.options||[]]);return r.required&&(t=t.required(ar("validation.string.selected"))),t},email(e,r){r=r||{};let t=we().transform((s,a)=>a===""?null:s).nullable(!0).trim().label(e).email();return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),r.matches&&(t=t.matches(r.matches)),t},decimal(e,r){r=r||{};let t=ur().transform((s,a)=>a===""?null:s).nullable(!0).label(e);return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),t},datetime(e,r){r=r||{};let t=De().nullable(!0).label(e).transform((s,a)=>s?Ye(a,"YYYY-MM-DD HH:mm").toISOString():null);return r.required&&(t=t.required()),t},date(e,r){r=r||{};let t=De().nullable(!0).label(e).test("is-date",ar("validation.mixed.default"),s=>s?Ye(s,"YYYY-MM-DD").isValid():!0).transform(s=>s?Ye(s).format("YYYY-MM-DD"):null);return r.required&&(t=t.required()),t}};var he=e=>e instanceof HTMLElement;const le={BLUR:"blur",CHANGE:"change",INPUT:"input"},ee={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pr="select",Ne="undefined",U={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};function Yr({ref:e},r,t){he(e)&&t&&(e.addEventListener(r?le.CHANGE:le.INPUT,t),e.addEventListener(le.BLUR,t))}var H=e=>e==null;const vr=e=>typeof e=="object";var Y=e=>!H(e)&&!Array.isArray(e)&&vr(e)&&!(e instanceof Date),ke=e=>/^\w*$/.test(e),re=e=>e.filter(Boolean),gr=e=>re(e.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."));function j(e,r,t){let s=-1;const a=ke(r)?[r]:gr(r),c=a.length,l=c-1;for(;++s<c;){const y=a[s];let o=t;if(s!==l){const O=e[y];o=Y(O)||Array.isArray(O)?O:isNaN(+a[s+1])?{}:[]}e[y]=o,e=e[y]}return e}var Le=(e,r={})=>{for(const t in e)ke(t)?r[t]=e[t]:j(r,t,e[t]);return r},I=e=>e===void 0,v=(e={},r,t)=>{const s=re(r.split(/[,[\].]+?/)).reduce((a,c)=>H(a)?a:a[c],e);return I(s)||s===e?I(e[r])?t:e[r]:s},_r=(e,r)=>{for(const t in e)if(v(r,t)){const s=e[t];if(s){if(s.ref.focus&&I(s.ref.focus()))break;if(s.options){s.options[0].ref.focus();break}}}},cr=(e,r)=>{he(e)&&e.removeEventListener&&(e.removeEventListener(le.INPUT,r),e.removeEventListener(le.CHANGE,r),e.removeEventListener(le.BLUR,r))};const lr={isValid:!1,value:""};var Or=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.ref.checked?{isValid:!0,value:t.ref.value}:r,lr):lr,Wr=e=>[...e].filter(({selected:r})=>r).map(({value:r})=>r),Ce=e=>e.type==="radio",xr=e=>e.type==="file",oe=e=>e.type==="checkbox",Vr=e=>e.type===`${pr}-multiple`;const or={value:!1,isValid:!1},fr={value:!0,isValid:!0};var Ar=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(c=>c&&c.ref.checked).map(({ref:{value:c}})=>c);return{value:a,isValid:!!a.length}}const{checked:r,value:t,attributes:s}=e[0].ref;return r?s&&!I(s.value)?I(t)||t===""?fr:{value:t,isValid:!0}:fr:or}return or};function ce(e,r,t,s){const a=e.current[r];if(a){const{ref:{value:c,disabled:l},ref:y,valueAsNumber:o,valueAsDate:O,setValueAs:N}=a;return l&&s?void 0:xr(y)?y.files:Ce(y)?Or(a.options).value:Vr(y)?Wr(y.options):oe(y)?Ar(a.options).value:o?+c:O?y.valueAsDate:N?N(c):c}if(t)return v(t.current,r)}function Ee(e){return e?!(e instanceof HTMLElement)||e.nodeType===Node.DOCUMENT_NODE?!1:Ee(e.parentNode):!0}var k=e=>Y(e)&&!Object.keys(e).length,ze=e=>typeof e=="boolean";function Hr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=I(e)?s++:e[r[s++]];return e}function $(e,r){const t=ke(r)?[r]:gr(r),s=t.length==1?e:Hr(e,t),a=t[t.length-1];let c;s&&delete s[a];for(let l=0;l<t.slice(0,-1).length;l++){let y=-1,o;const O=t.slice(0,-(l+1)),N=O.length-1;for(l>0&&(c=e);++y<O.length;){const D=O[y];o=o?o[D]:e[D],N===y&&(Y(o)&&k(o)||Array.isArray(o)&&!o.filter(w=>Y(w)&&!k(w)||ze(w)).length)&&(c?delete c[D]:delete e[D]),c=o}}return e}const dr=(e,r)=>e&&e.ref===r;function Gr(e,r,t,s,a,c){const{ref:l,ref:{name:y}}=t,o=e.current[y];if(!a){const O=ce(e,y,s);!I(O)&&j(s.current,y,O)}if(!l.type||!o){delete e.current[y];return}Ce(l)||oe(l)?Array.isArray(o.options)&&o.options.length?(re(o.options).forEach((O={},N)=>{(Ee(O.ref)&&dr(O,O.ref)||c)&&(cr(O.ref,r),$(o.options,`[${N}]`))}),o.options&&!re(o.options).length&&delete e.current[y]):delete e.current[y]:(Ee(l)&&dr(o,l)||c)&&(cr(l,r),delete e.current[y])}var te=e=>H(e)||!vr(e);function Ke(e,r){if(te(e)||te(r))return r;for(const t in r){const s=e[t],a=r[t];try{e[t]=Y(s)&&Y(a)||Array.isArray(s)&&Array.isArray(a)?Ke(s,a):a}catch{}}return e}function He(e,r,t,s,a){let c=-1;for(;++c<e.length;){for(const l in e[c])Array.isArray(e[c][l])?(!t[c]&&(t[c]={}),t[c][l]=[],He(e[c][l],v(r[c]||{},l,[]),t[c][l],t[c],l)):v(r[c]||{},l)===e[c][l]?j(t[c]||{},l):t[c]=Object.assign(Object.assign({},t[c]),{[l]:!0});s&&!t.length&&delete s[a]}return t}var zr=(e,r,t)=>Ke(He(e,r,t),He(r,e,t)),K=e=>typeof e=="string",_e=(e,r,t,s,a)=>{const c={};for(const l in e.current)(I(a)||(K(a)?l.startsWith(a):Array.isArray(a)&&a.find(y=>l.startsWith(y))))&&(c[l]=ce(e,l,void 0,s));return t?Le(c):Ke(r,Le(c))};function ae(e,r,t){if(te(e)||te(r)||e instanceof Date||r instanceof Date)return e===r;if(!d.isValidElement(e)){const s=Object.keys(e),a=Object.keys(r);if(s.length!==a.length)return!1;for(const c of s){const l=e[c];if(!(t&&c==="ref")){const y=r[c];if((Y(l)||Array.isArray(l))&&(Y(y)||Array.isArray(y))?!ae(l,y,t):l!==y)return!1}}}return!0}var Kr=({errors:e,name:r,error:t,validFields:s,fieldsWithValidation:a})=>{const c=I(t),l=v(e,r);return c&&!!l||!c&&!ae(l,t,!0)||c&&v(a,r)&&!v(s,r)},Rr=e=>e instanceof RegExp,ye=e=>Y(e)&&!Rr(e)?e:{value:e,message:""},kr=e=>typeof e=="function",Ge=e=>K(e)||d.isValidElement(e);function mr(e,r,t="validate"){if(Ge(e)||ze(e)&&!e)return{type:t,message:Ge(e)?e:"",ref:r}}var Ur=(e,r,t,s,a)=>r?Object.assign(Object.assign({},t[e]),{types:Object.assign(Object.assign({},t[e]&&t[e].types?t[e].types:{}),{[s]:a||!0})}):{},qe=async(e,r,{ref:t,ref:{value:s},options:a,required:c,maxLength:l,minLength:y,min:o,max:O,pattern:N,validate:D},w)=>{const B=t.name,x={},M=Ce(t),C=oe(t),ne=M||C,G=s==="",L=Ur.bind(null,B,r,x),A=(R,V,g,E=U.maxLength,P=U.minLength)=>{const X=R?V:g;x[B]=Object.assign({type:R?E:P,message:X,ref:t},L(R?E:P,X))};if(c&&(!M&&!C&&(G||H(s))||ze(s)&&!s||C&&!Ar(a).isValid||M&&!Or(a).isValid)){const{value:R,message:V}=Ge(c)?{value:!!c,message:c}:ye(c);if(R&&(x[B]=Object.assign({type:U.required,message:V,ref:ne?((e.current[B].options||[])[0]||{}).ref:t},L(U.required,V)),!r))return x}if((!H(o)||!H(O))&&s!==""){let R,V;const g=ye(O),E=ye(o);if(isNaN(s)){const P=t.valueAsDate||new Date(s);K(g.value)&&(R=P>new Date(g.value)),K(E.value)&&(V=P<new Date(E.value))}else{const P=t.valueAsNumber||parseFloat(s);H(g.value)||(R=P>g.value),H(E.value)||(V=P<E.value)}if((R||V)&&(A(!!R,g.message,E.message,U.max,U.min),!r))return x}if(K(s)&&!G&&(l||y)){const R=ye(l),V=ye(y),g=!H(R.value)&&s.length>R.value,E=!H(V.value)&&s.length<V.value;if((g||E)&&(A(g,R.message,V.message),!r))return x}if(K(s)&&N&&!G){const{value:R,message:V}=ye(N);if(Rr(R)&&!R.test(s)&&(x[B]=Object.assign({type:U.pattern,message:V,ref:t},L(U.pattern,V)),!r))return x}if(D){const R=ce(e,B,w),V=ne&&a?a[0].ref:t;if(kr(D)){const g=await D(R),E=mr(g,V);if(E&&(x[B]=Object.assign(Object.assign({},E),L(U.validate,E.message)),!r))return x}else if(Y(D)){let g={};for(const[E,P]of Object.entries(D)){if(!k(g)&&!r)break;const X=await P(R),pe=mr(X,V,E);pe&&(g=Object.assign(Object.assign({},pe),L(E,pe.message)),r&&(x[B]=g))}if(!k(g)&&(x[B]=Object.assign({ref:V},g),!r))return x}}return x};const Ue=(e,r,t=[])=>{for(const s in r){const a=e+(Y(r)?`.${s}`:`[${s}]`);te(r[s])?t.push(a):Ue(a,r[s],t)}return t};var yr=(e,r,t,s,a)=>{let c;return t.add(r),k(e)||(c=v(e,r),(Y(c)||Array.isArray(c))&&Ue(r,c).forEach(l=>t.add(l))),I(c)?a?s:v(s,r):c},Xr=({isOnBlur:e,isOnChange:r,isOnTouch:t,isTouched:s,isReValidateOnBlur:a,isReValidateOnChange:c,isBlurEvent:l,isSubmitted:y,isOnAll:o})=>o?!1:!y&&t?!(s||l):(y?a:e)?!l:(y?c:r)?l:!0,We=e=>e.substring(0,e.indexOf("["));const Zr=(e,r)=>RegExp(`^${r}([|.)\\d+`.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e);var Jr=(e,r)=>[...e].some(t=>Zr(r,t)),Qr=e=>e.type===`${pr}-one`;function et(e,r){const t=new MutationObserver(()=>{for(const s of Object.values(e.current))if(s&&s.options)for(const a of s.options)a&&a.ref&&Ee(a.ref)&&r(s);else s&&Ee(s.ref)&&r(s)});return t.observe(window.document,{childList:!0,subtree:!0}),t}var be=typeof window!==Ne&&typeof document!==Ne;function Q(e){let r;if(te(e)||be&&(e instanceof File||he(e)))return e;if(e instanceof Date)return r=new Date(e.getTime()),r;if(e instanceof Set){r=new Set;for(const t of e)r.add(t);return r}if(e instanceof Map){r=new Map;for(const t of e.keys())r.set(t,Q(e.get(t)));return r}r=Array.isArray(e)?[]:{};for(const t in e)r[t]=Q(e[t]);return r}var br=e=>({isOnSubmit:!e||e===ee.onSubmit,isOnBlur:e===ee.onBlur,isOnChange:e===ee.onChange,isOnAll:e===ee.all,isOnTouch:e===ee.onTouched}),hr=e=>Ce(e)||oe(e);const rt=typeof window===Ne,ue=be?"Proxy"in window:typeof Proxy!==Ne;function ft({mode:e=ee.onSubmit,reValidateMode:r=ee.onChange,resolver:t,context:s,defaultValues:a={},shouldFocusError:c=!0,shouldUnregister:l=!0,criteriaMode:y}={}){const o=d.useRef({}),O=d.useRef({}),N=d.useRef({}),D=d.useRef(new Set),w=d.useRef({}),B=d.useRef({}),x=d.useRef({}),M=d.useRef({}),C=d.useRef(a),ne=d.useRef(!1),G=d.useRef(!1),L=d.useRef(),A=d.useRef({}),R=d.useRef({}),V=d.useRef(s),g=d.useRef(t),E=d.useRef(new Set),P=d.useRef(br(e)),{isOnSubmit:X,isOnTouch:pe}=P.current,_=y===ee.all,[fe,Cr]=d.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!X,errors:{}}),q=d.useRef({isDirty:!ue,dirtyFields:!ue,touched:!ue||pe,isValidating:!ue,isSubmitting:!ue,isValid:!ue}),f=d.useRef(fe),ve=d.useRef(),{isOnBlur:Ze,isOnChange:Je}=d.useRef(br(r)).current;V.current=s,g.current=t,f.current=fe,A.current=l?{}:k(A.current)?Q(a):A.current;const S=d.useCallback((n={})=>{ne.current||(f.current=Object.assign(Object.assign({},f.current),n),Cr(f.current))},[]),Qe=()=>q.current.isValidating&&S({isValidating:!0}),ge=d.useCallback((n,u,i=!1,h={},b)=>{let m=i||Kr({errors:f.current.errors,error:u,name:n,validFields:M.current,fieldsWithValidation:x.current});const p=v(f.current.errors,n);u?($(M.current,n),m=m||!p||!ae(p,u,!0),j(f.current.errors,n,u)):((v(x.current,n)||g.current)&&(j(M.current,n,!0),m=m||p),$(f.current.errors,n)),(m&&!H(i)||!k(h)||q.current.isValidating)&&S(Object.assign(Object.assign(Object.assign({},h),g.current?{isValid:!!b}:{}),{isValidating:!1}))},[]),Oe=d.useCallback((n,u)=>{const{ref:i,options:h}=o.current[n],b=be&&he(i)&&H(u)?"":u;Ce(i)?(h||[]).forEach(({ref:m})=>m.checked=m.value===b):xr(i)&&!K(b)?i.files=b:Vr(i)?[...i.options].forEach(m=>m.selected=b.includes(m.value)):oe(i)&&h?h.length>1?h.forEach(({ref:m})=>m.checked=Array.isArray(b)?!!b.find(p=>p===m.value):b===m.value):h[0].ref.checked=!!b:i.value=b},[]),Ie=d.useCallback((n,u)=>{if(q.current.isDirty){const i=de();return n&&u&&j(i,n,u),!ae(i,C.current)}return!1},[]),xe=d.useCallback((n,u=!0)=>{if(q.current.isDirty||q.current.dirtyFields){const i=!ae(v(C.current,n),ce(o,n,A)),h=v(f.current.dirtyFields,n),b=f.current.isDirty;i?j(f.current.dirtyFields,n,!0):$(f.current.dirtyFields,n);const m={isDirty:Ie(),dirtyFields:f.current.dirtyFields},p=q.current.isDirty&&b!==m.isDirty||q.current.dirtyFields&&h!==v(f.current.dirtyFields,n);return p&&u&&S(m),p?m:{}}return{}},[]),Te=d.useCallback(async(n,u)=>{const i=(await qe(o,_,o.current[n],A))[n];return ge(n,i,u),I(i)},[ge,_]),er=d.useCallback(async n=>{const{errors:u}=await g.current(de(),V.current,_),i=f.current.isValid;if(Array.isArray(n)){const h=n.map(b=>{const m=v(u,b);return m?j(f.current.errors,b,m):$(f.current.errors,b),!m}).every(Boolean);return S({isValid:k(u),isValidating:!1}),h}else{const h=v(u,n);return ge(n,h,i!==k(u),{},k(u)),!h}},[ge,_]),Ve=d.useCallback(async n=>{const u=n||Object.keys(o.current);if(Qe(),g.current)return er(u);if(Array.isArray(u)){!n&&(f.current.errors={});const i=await Promise.all(u.map(async h=>await Te(h,null)));return S({isValidating:!1}),i.every(Boolean)}return await Te(u)},[er,Te]),rr=d.useCallback((n,u,{shouldDirty:i,shouldValidate:h})=>{const b={};j(b,n,u);for(const m of Ue(n,u))o.current[m]&&(Oe(m,v(b,m)),i&&xe(m),h&&Ve(m))},[Ve,Oe,xe]),tr=d.useCallback((n,u,i)=>{if(!l&&!te(u)&&j(A.current,n,Object.assign({},u)),o.current[n])Oe(n,u),i.shouldDirty&&xe(n),i.shouldValidate&&Ve(n);else if(!te(u)&&(rr(n,u,i),E.current.has(n))){const h=We(n)||n;j(O.current,n,u),R.current[h]({[h]:v(O.current,h)}),(q.current.isDirty||q.current.dirtyFields)&&i.shouldDirty&&(j(f.current.dirtyFields,n,zr(u,v(C.current,n,[]),v(f.current.dirtyFields,n,[]))),S({isDirty:!ae(Object.assign(Object.assign({},de()),{[n]:u}),C.current)}))}!l&&j(A.current,n,u)},[xe,Oe,rr]),nr=n=>G.current||D.current.has(n)||D.current.has((n.match(/\w+/)||[])[0]),Ae=n=>{let u=!0;if(!k(w.current))for(const i in w.current)(!n||!w.current[i].size||w.current[i].has(n)||w.current[i].has(We(n)))&&(B.current[i](),u=!1);return u};function jr(n,u,i){tr(n,u,i||{}),nr(n)&&S(),Ae(n)}L.current=L.current?L.current:async({type:n,target:u})=>{let i=u.name;const h=o.current[i];let b,m;if(h){const p=n===le.BLUR,W=Xr(Object.assign({isBlurEvent:p,isReValidateOnChange:Je,isReValidateOnBlur:Ze,isTouched:!!v(f.current.touched,i),isSubmitted:f.current.isSubmitted},P.current));let z=xe(i,!1),me=!k(z)||!p&&nr(i);if(p&&!v(f.current.touched,i)&&q.current.touched&&(j(f.current.touched,i,!0),z=Object.assign(Object.assign({},z),{touched:f.current.touched})),!l&&oe(u)&&j(A.current,i,ce(o,i)),W)return!p&&Ae(i),(!k(z)||me&&k(z))&&S(z);if(Qe(),g.current){const{errors:F}=await g.current(de(),V.current,_),Re=f.current.isValid;if(b=v(F,i),oe(u)&&!b&&g.current){const Z=We(i),se=v(F,Z,{});se.type&&se.message&&(b=se),Z&&(se||v(f.current.errors,Z))&&(i=Z)}m=k(F),Re!==m&&(me=!0)}else b=(await qe(o,_,h,A))[i];!p&&Ae(i),ge(i,b,me,z,m)}};function sr(n){if(!l){let u=Q(n);for(const i of E.current)ke(i)&&!u[i]&&(u=Object.assign(Object.assign({},u),{[i]:[]}));return u}return n}function de(n){if(K(n))return ce(o,n,A);if(Array.isArray(n)){const u={};for(const i of n)j(u,i,ce(o,i,A));return u}return sr(_e(o,Q(A.current),l))}const je=d.useCallback(async(n={})=>{const{errors:u}=await g.current(Object.assign(Object.assign({},de()),n),V.current,_),i=k(u);f.current.isValid!==i&&S({isValid:i})},[_]),Se=d.useCallback((n,u)=>Gr(o,L.current,n,A,l,u),[l]),Pe=d.useCallback(n=>{if(G.current)S();else{for(const u of D.current)if(u.startsWith(n)){S();break}Ae(n)}},[]),Fe=d.useCallback((n,u)=>{n&&(Se(n,u),l&&!re(n.options||[]).length&&($(M.current,n.ref.name),$(x.current,n.ref.name),$(f.current.errors,n.ref.name),j(f.current.dirtyFields,n.ref.name,!0),S({isDirty:Ie()}),q.current.isValid&&g.current&&je(),Pe(n.ref.name)))},[je,Se]);function Sr(n){n&&(Array.isArray(n)?n:[n]).forEach(u=>o.current[u]&&ke(u)?delete f.current.errors[u]:$(f.current.errors,u)),S({errors:n?f.current.errors:{}})}function Fr(n,u){const i=(o.current[n]||{}).ref;j(f.current.errors,n,Object.assign(Object.assign({},u),{ref:i})),S({isValid:!1}),u.shouldFocus&&i&&i.focus&&i.focus()}const Be=d.useCallback((n,u,i)=>{const h=i?w.current[i]:D.current;let b=_e(o,Q(A.current),l,!1,n);if(K(n)){if(E.current.has(n)){const p=v(N.current,n,[]);b=!p.length||p.length!==re(v(b,n,[])).length?N.current:b}return yr(b,n,h,I(v(C.current,n))?u:v(C.current,n),!0)}const m=I(u)?C.current:u;return Array.isArray(n)?n.reduce((p,W)=>Object.assign(Object.assign({},p),{[W]:yr(b,W,h,m)}),{}):(G.current=I(i),Le(!k(b)&&b||m))},[]);function Dr(n,u){return Be(n,u)}function wr(n){for(const u of Array.isArray(n)?n:[n])Fe(o.current[u],!0)}function $e(n,u={}){const{name:i,type:h,value:b}=n,m=Object.assign({ref:n},u),p=o.current,W=hr(n),z=Jr(E.current,i),me=ie=>be&&(!he(n)||ie===n);let F=p[i],Re=!0,Z;if(F&&(W?Array.isArray(F.options)&&re(F.options).find(ie=>b===ie.ref.value&&me(ie.ref)):me(F.ref))){p[i]=Object.assign(Object.assign({},F),u);return}h?F=W?Object.assign({options:[...re(F&&F.options||[]),{ref:n}],ref:{type:h,name:i}},u):Object.assign({},m):F=m,p[i]=F;const se=I(v(A.current,i));(!k(C.current)||!se)&&(Z=v(se?C.current:A.current,i),Re=I(Z),!Re&&!z&&Oe(i,Z)),k(u)||(j(x.current,i,!0),!X&&q.current.isValid&&qe(o,_,F,A).then(ie=>{const Tr=f.current.isValid;k(ie)?j(M.current,i,!0):$(M.current,i),Tr!==k(ie)&&S()})),z&&Re||!z&&$(f.current.dirtyFields,i),h&&Yr(W&&F.options?F.options[F.options.length-1]:F,W||Qr(n),L.current)}function Mr(n,u){if(!rt)if(K(n))$e({name:n},u);else if(Y(n)&&"name"in n)$e(n,u);else return i=>i&&$e(i,n)}const qr=d.useCallback((n,u)=>async i=>{i&&i.preventDefault&&(i.preventDefault(),i.persist());let h={},b=sr(_e(o,Q(A.current),l,!0));q.current.isSubmitting&&S({isSubmitting:!0});try{if(g.current){const{errors:m,values:p}=await g.current(b,V.current,_);f.current.errors=h=m,b=p}else for(const m of Object.values(o.current))if(m){const{name:p}=m.ref,W=await qe(o,_,m,A);W[p]?(j(h,p,W[p]),$(M.current,p)):v(x.current,p)&&($(f.current.errors,p),j(M.current,p,!0))}k(h)&&Object.keys(f.current.errors).every(m=>m in o.current)?(S({errors:{},isSubmitting:!0}),await n(b,i)):(f.current.errors=Object.assign(Object.assign({},f.current.errors),h),u&&await u(f.current.errors,i),c&&_r(o.current,f.current.errors))}finally{f.current.isSubmitting=!1,S({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:k(f.current.errors),submitCount:f.current.submitCount+1})}},[c,_]),Nr=({errors:n,isDirty:u,isSubmitted:i,touched:h,isValid:b,submitCount:m,dirtyFields:p})=>{b||(M.current={},x.current={}),O.current={},D.current=new Set,G.current=!1,S({submitCount:m?f.current.submitCount:0,isDirty:u?f.current.isDirty:!1,isSubmitted:i?f.current.isSubmitted:!1,isValid:b?f.current.isValid:!1,dirtyFields:p?f.current.dirtyFields:{},touched:h?f.current.touched:{},errors:n?f.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Lr=(n,u={})=>{if(be){for(const i of Object.values(o.current))if(i){const{ref:h,options:b}=i,m=hr(h)&&Array.isArray(b)?b[0].ref:h;if(he(m))try{m.closest("form").reset();break}catch{}}}o.current={},C.current=Object.assign({},n||C.current),n&&Ae(""),Object.values(R.current).forEach(i=>kr(i)&&i()),A.current=l?{}:Q(n||C.current),Nr(u)};d.useEffect(()=>{t&&q.current.isValid&&je(),ve.current=ve.current||!be?ve.current:et(o,Fe)},[Fe,C.current]),d.useEffect(()=>()=>{ve.current&&ve.current.disconnect(),ne.current=!0,Object.values(o.current).forEach(n=>Fe(n,!0))},[]),!t&&q.current.isValid&&(fe.isValid=ae(M.current,x.current)&&k(f.current.errors));const ir={trigger:Ve,setValue:d.useCallback(jr,[tr,Ve]),getValues:d.useCallback(de,[]),register:d.useCallback(Mr,[C.current]),unregister:d.useCallback(wr,[]),formState:ue?new Proxy(fe,{get:(n,u)=>{if(u in n)return q.current[u]=!0,n[u]}}):fe},Ir=d.useMemo(()=>Object.assign({isFormDirty:Ie,updateWatchedValue:Pe,shouldUnregister:l,updateFormState:S,removeFieldEventListener:Se,watchInternal:Be,mode:P.current,reValidateMode:{isReValidateOnBlur:Ze,isReValidateOnChange:Je},validateResolver:t?je:void 0,fieldsRef:o,resetFieldArrayFunctionRef:R,useWatchFieldsRef:w,useWatchRenderFunctionsRef:B,fieldArrayDefaultValuesRef:O,validFieldsRef:M,fieldsWithValidationRef:x,fieldArrayNamesRef:E,readFormStateRef:q,formStateRef:f,defaultValuesRef:C,shallowFieldsStateRef:A,fieldArrayValuesRef:N},ir),[C.current,Pe,l,Se,Be]);return Object.assign({watch:Dr,control:Ir,handleSubmit:qr,reset:d.useCallback(Lr,[]),clearErrors:d.useCallback(Sr,[]),setError:d.useCallback(Fr,[]),errors:fe.errors},ir)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tt(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(t[s[a]]=e[s[a]]);return t}const Xe=d.createContext(null);Xe.displayName="RHFContext";const nt=()=>d.useContext(Xe),dt=e=>{var{children:r}=e,t=tt(e,["children"]);return d.createElement(Xe.Provider,{value:Object.assign({},t)},r)},st=(e,r)=>Array.isArray(e.inner)&&e.inner.length?e.inner.reduce((t,{path:s,message:a,type:c})=>{const l=t[s]&&t[s].types||{},y=s||c;return Object.assign(Object.assign({},t),y?{[y]:Object.assign(Object.assign({},t[y]||{message:a,type:c}),r?{types:Object.assign(Object.assign({},l),{[c]:l[c]?[...[].concat(l[c]),a]:a})}:{})}:{})},{}):{[e.path]:{message:e.message,type:e.type}},it=(e,r={abortEarly:!1})=>async(t,s,a=!1)=>{try{return r.context,{values:await e.validate(t,Object.assign(Object.assign({},r),{context:s})),errors:{}}}catch(c){const l=st(c,a);return{values:{},errors:Le(l)}}},ut=Object.freeze(Object.defineProperty({__proto__:null,yupResolver:it},Symbol.toStringTag,{value:"Module"})),at=Br(ut);var mt=at;class ct{static errorMessage(r,t,s,a,c=null){var y;if(c)return c;if(!a&&!s[r])return null;const l=t[r];return((y=l==null?void 0:l[0])==null?void 0:y.message)||(l==null?void 0:l.message)||l||null}}function Er(e){const{label:r,description:t,name:s,hint:a,type:c,placeholder:l,autoFocus:y,autoComplete:o,required:O,externalErrorMessage:N,disabled:D,endAdornment:w,className:B}=e,{register:x,errors:M,formState:{touched:C,isSubmitted:ne}}=nt();N&&$r.error(N);const G=ct.errorMessage(s,M,C,ne);return J.jsxs("div",{className:"form-group",children:[J.jsxs("div",{className:w?"input-group":"",children:[!!r&&J.jsx("label",{className:`col-form-label ${O?"required":null}`,htmlFor:s,children:r}),t,J.jsx("input",{className:`${e.className} ${G?"__danger":""}`,id:s,name:s,type:c,ref:x,onChange:L=>{e.onChange&&e.onChange(L.target.value)},onBlur:L=>{e.onBlur&&e.onBlur(L)},placeholder:l||void 0,autoFocus:y||void 0,autoComplete:o||void 0,disabled:D}),w&&J.jsx("div",{className:"input-group-append",children:J.jsx("span",{className:"input-group-text",children:w})})]}),J.jsx("div",{className:"invalid-feedback",children:G}),!!a&&J.jsx("small",{className:"form-text text-muted",children:a})]})}Er.defaultProps={type:"text",required:!1};Er.propTypes={name:T.string.isRequired,required:T.bool,type:T.string,label:T.string,description:T.string,hint:T.string,autoFocus:T.bool,disabled:T.bool,prefix:T.string,placeholder:T.string,autoComplete:T.string,externalErrorMessage:T.string,endAdornment:T.any,onChange:T.any,className:T.string};export{dt as F,Er as I,mt as a,nt as b,ct as c,ft as u,ot as y};
