import{u as t,j as f,f as p,i as u,k as e,M as g,C as m}from"./index-b7f15ddd.js";import{S as _}from"./SubHeader-c22da5b9.js";import{u as C}from"./useDispatch-f90e63a0.js";function N(){var i;const n=C(),a=t(f.selectCurrentUser),r=p.useRef(null),x=()=>{const o=r.current.innerText;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(o).then(()=>{alert("Copied to clipboard:")}).catch(s=>{console.error("Error copying to clipboard:",s)});else{const s=document.createElement("textarea");s.value=o,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),g.success("Copied")}},h=()=>{n(m.doFetch())},v=t(u.selectRows),c=t((i=u)==null?void 0:i.selectLoading);return p.useEffect(()=>{h()},[n]),e.jsxs("div",{className:"app__invitation",children:[e.jsx(_,{title:"Events",path:"/"}),e.jsx("div",{className:"invitation__absolute"}),e.jsxs("div",{className:"invitation__content",children:[e.jsx("div",{className:"invitation__logo",children:v.map(o=>{var s,l,d;return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:o.name}),!c&&((s=o==null?void 0:o.photo[0])==null?void 0:s.downloadUrl)&&e.jsx("img",{src:(l=o==null?void 0:o.photo[0])==null?void 0:l.downloadUrl,alt:"",className:"logo__header"}),!c&&!((d=o==null?void 0:o.photo[0])!=null&&d.downloadUrl)&&e.jsx("img",{src:"/images/invitation/logo.png",alt:"",className:"invitation__"})]})})}),e.jsxs("div",{className:"invitation__details",children:[e.jsx("span",{children:"My Referral Code"}),e.jsx("span",{className:"reference__code",ref:r,style:{cursor:"pointer"},children:a==null?void 0:a.refcode}),e.jsx("div",{className:"invitation__button",onClick:x,children:"Copy referral Code"})]})]})]})}export{N as default};
